---
title: ""
emoji: "🐙"
type: "tech" # tech: 技術記事 / idea: アイデア
topics: []
published: false
publication_name: midra_lab
---
# Unityでネットワークマルチプレイのプレイヤー部分の設計について考えてみた #1
## はじめに
筆者は情報学に完璧に精通している人間ではないのでところどころに間違いがあるかもしれません。間違いがあった場合はコメントで指摘していただけると幸いです。
レベル感としてはこちらの記事において定義されてる基準によると"**自称レベル3**"になると思うので、そこら辺のレベル感で読んでいただけると幸いです。

### 想定基本動作環境
- Windows 10 Pro 22H2
- Unity 2020以降
- UniRx
- ネットワークライブラリ(今回はFishNetを想定して書きます)

### この設計に適応できるネットワークライブラリ(動作確認済み)
- [FishNet](https://github.com/FirstGearGames/FishNet)
- [Mirror](https://github.com/MirrorNetworking/Mirror)

## 要件

- リアルタイムオンラインゲーム(他のユーザーの座標を同期するようなアクションゲーム)
- 10人以下でプレイするゲーム
- 格闘ゲームのようなより厳しい同期性を要求するものではない

## ネットワークモデルの選定
今回は"**クライアントサーバーモデル/専用サーバー型**"を採用します。

### クライアントサーバーモデル
クライアントサーバーモデルはクライアントとサーバーが存在し、クライアントはサーバーに対してリクエストを送り、サーバーはクライアントのリクエストに対してレスポンスを返すというモデルです。

### 専用サーバー型
専用サーバー型はサーバー側でゲームロジックを処理し、その結果をクライアントに送信するというモデルです。

### クライアントサーバーモデル/専用サーバー型について
#### 良い点
- クライアントはサーバーに対してリクエストを送るだけなので、他のプレイヤーの通信環境を気にすることなくゲームをプレイできる
- サーバー側でゲームロジックを処理するので、クライアント側の負荷を軽減できる
- サーバーの性能を上げれば、1マッチのプレイヤー数を増やすことができる
- クライアント側にはゲームロジックを持たせないので、チート耐性が高くなる

#### 悪い点
- サーバー側でゲームロジックを処理するので、サーバー維持費がかかる
- サーバーの知識が必要になる

## ネットワークライブラリの選定
今回はサーバー側の知識が少ない人でも実装できるようにサーバー側もUnityで実装することができるライブラリを採用します。
今回は"**FishNet**"を採用します。